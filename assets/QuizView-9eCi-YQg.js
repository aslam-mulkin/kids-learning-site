import{r as t,j as e,C as o,a as x,b as h,B as c}from"./index-DstFhZEK.js";function R({items:a}){const[l,u]=t.useState(0),[r,p]=t.useState(Array(a.length).fill(-1)),[m,N]=t.useState(!1),[v,j]=t.useState(!1),f=t.useMemo(()=>r.every(s=>s!==-1),[r]),g=t.useMemo(()=>r.reduce((s,n,i)=>s+(n===a[i].answer?1:0),0),[r,a]);function y(s){if(m)return;const n=[...r];n[l]=s,p(n)}function S(){l<a.length-1&&u(l+1)}function A(){l>0&&u(l-1)}function M(){f&&N(!0)}function k(){u(0),p(Array(a.length).fill(-1)),N(!1),j(!1)}if(m&&!v)return e.jsxs(o,{className:"max-w-xl mx-auto",children:[e.jsx(x,{children:"Nilai Akhir"}),e.jsxs(h,{className:"space-y-3",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["Skor: ",g," / ",a.length]}),e.jsx("div",{className:"text-sm text-slate-600",children:"Selesaikan semua soal untuk melihat kunci jawaban."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:()=>j(!0),children:"Lihat Kunci Jawaban"}),e.jsx(c,{variant:"outline",onClick:k,children:"Ulangi"})]})]})]});if(m&&v)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(o,{className:"max-w-xl mx-auto",children:[e.jsx(x,{children:"Ulasan Jawaban"}),e.jsxs(h,{className:"text-sm text-slate-600",children:["Skor: ",g," / ",a.length]})]}),e.jsx("div",{className:"space-y-4",children:a.map((s,n)=>{const i=r[n];return e.jsxs(o,{className:"max-w-3xl mx-auto",children:[e.jsxs(x,{className:"mb-2",children:["Soal ",n+1]}),e.jsxs(h,{children:[e.jsx("div",{className:"mb-3",children:s.q}),e.jsx("div",{className:"space-y-2",children:s.options.map((b,d)=>{const J=d===s.answer?"border-green-500 bg-green-50":d===i?"border-red-500 bg-red-50":"border-slate-200";return e.jsxs("div",{className:`border rounded-xl p-2 ${J}`,children:[C(d),". ",b]},d)})}),s.explain&&e.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Pembahasan: ",s.explain]})]})]},s.id)})}),e.jsxs("div",{className:"max-w-3xl mx-auto flex gap-2",children:[e.jsx(c,{variant:"outline",onClick:()=>j(!1),children:"Kembali"}),e.jsx(c,{onClick:k,children:"Ulangi Kuis"})]})]});const w=a[l],B=r[l];return e.jsxs(o,{className:"max-w-2xl mx-auto",children:[e.jsxs(x,{className:"mb-2",children:["Soal ",l+1," / ",a.length]}),e.jsxs(h,{children:[e.jsx("div",{className:"mb-4",children:w.q}),e.jsx("div",{className:"space-y-2 mb-4",children:w.options.map((s,n)=>{const b=B===n?"border-blue-500 ring-1 ring-blue-200":"border-slate-200";return e.jsxs("div",{className:`border rounded-xl p-2 cursor-pointer ${b}`,onClick:()=>y(n),children:[C(n),". ",s]},n)})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(c,{variant:"outline",onClick:A,disabled:l===0,children:"Sebelumnya"}),e.jsx(c,{onClick:S,disabled:l===a.length-1,children:"Berikutnya"}),e.jsx(c,{variant:"outline",onClick:M,className:"ml-auto",disabled:!f,children:"Selesai"})]}),!f&&e.jsx("div",{className:"mt-3 text-xs text-slate-500",children:"Jawab semua pertanyaan untuk menyelesaikan kuis."})]})]})}function C(a){return String.fromCharCode(65+a)}export{R as default};
